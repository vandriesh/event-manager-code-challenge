<div style="padding: 20px 5% 0 5%">
  <h1 class="mat-h1">Calls</h1>
  <button mat-raised-button color="primary" (click)="openCreateCallDialog()" >
    <mat-icon aria-label="Example icon-button with a heart icon">call</mat-icon>
    add new Call Event</button>
</div>

<vertical-timeline *ngIf="callEventStore">
  <vertical-timeline-card *ngFor="let dateIndex of callEventStore.indexes"
      class="mat-elevation-z3"
      [dateValue]="callEventStore.entities[dateIndex][0].event_date"
      [timeString]="callEventStore.entities[dateIndex][0].event_date | date:'MMM d'">

    <section *ngFor="let callEvent of callEventStore.entities[dateIndex]; let i = index">
      <mat-card>
        <mat-card-header>
          <div mat-card-avatar><mat-icon>call</mat-icon></div>
          <mat-card-title>{{callEvent.event_date | date:'HH:mm'}}</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <div>Name: {{callEvent.name}}</div>
          <div>created at: {{callEvent.created_date | date:'yyyy-MM-dd HH:mm'}}</div>
          <div>participants : <a [href]="formatEmailLink(callEvent)"
              target="newMailWindow">{{getParticipants(callEvent.participants).join(', ')}}</a></div>
        </mat-card-content>
      </mat-card>
    </section>
  </vertical-timeline-card>
</vertical-timeline>




<h3>Meetings</h3>

<ul>
  <li *ngFor="let meetingEvent of meetings">
    <div>Name: {{meetingEvent.name}}</div>
    <div>created at: {{meetingEvent.created_date | date:'yyyy-MM-dd HH:mm'}}</div>
    <div>scheduled for: {{meetingEvent.event_date | date:'yyyy-MM-dd HH:mm'}}</div>
    <div>participants : <a [href]="formatEmailLink(meetingEvent)"
        target="newMailWindow">{{getParticipants(meetingEvent.participants).join(', ')}}</a></div>
    <div>locations: {{meetingEvent.address |json}}</div>
  </li>
</ul>


